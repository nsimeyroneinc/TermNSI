
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Exercices sur les bases de donn√©es">
      
      
        <meta name="author" content="N. Rev√©ret">
      
      
        <link rel="canonical" href="https://e-nsi.forge.aeif.fr/exercices_bdd/BAC/1-jipo1/">
      
      <link rel="icon" href="../../favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>2022, Polyn√©sie - Exercices sur les bases de donn√©es</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/codemirror.js"></script>
<script src="https://e-nsi.forge.aeif.fr/exercices_bdd//js/sqlite_ide.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/mode/sql/sql.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/codemirror.css"><link rel="stylesheet" href="https://e-nsi.forge.aeif.fr/exercices_bdd//css/sqlite_ide.css"><script>path="https://e-nsi.forge.aeif.fr/exercices_bdd/"</script>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="light-blue">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#2022-polynesie" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-t√™te">
    <a href="../.." title="Exercices sur les bases de donn√©es" class="md-header__button md-logo" aria-label="Exercices sur les bases de donn√©es" data-md-component="logo">
      
  <img src="../../logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Exercices sur les bases de donn√©es
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2022, Polyn√©sie
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="light-blue"  aria-label="Passer au mode nuit"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Passer au mode nuit" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Passer au mode jour"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Passer au mode jour" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Exercices sur les bases de donn√©es" class="md-nav__button md-logo" aria-label="Exercices sur les bases de donn√©es" data-md-component="logo">
      
  <img src="../../logo.png" alt="logo">

    </a>
    Exercices sur les bases de donn√©es
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        üè° Accueil
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          üî® Cr√©ation et insertion
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="üî® Cr√©ation et insertion" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          üî® Cr√©ation et insertion
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../01_lycee/lycee/" class="md-nav__link">
        Lyc√©e
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../02_imdb/imdb/" class="md-nav__link">
        S√©ries
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          üê≠ Requ√™tes simples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="üê≠ Requ√™tes simples" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          üê≠ Requ√™tes simples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../31_prenoms/prenoms/" class="md-nav__link">
        Pr√©noms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../32_ramens/ramens/" class="md-nav__link">
        Ramens
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          üêà Requ√™tes sur plusieurs tables
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="üêà Requ√™tes sur plusieurs tables" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          üêà Requ√™tes sur plusieurs tables
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../41_films/films/" class="md-nav__link">
        Films
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../42_cars/cars/" class="md-nav__link">
        Voitures
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          üêØ Exemples complets
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="üêØ Exemples complets" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          üêØ Exemples complets
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../51_world/world/" class="md-nav__link">
        World
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../52_netflix/netflix/" class="md-nav__link">
        Netflix
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../memento_sql/" class="md-nav__link">
        üí° Memento SQL
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="2022-polynesie">2022, Polyn√©sie<a class="headerlink" href="#2022-polynesie" title="Permanent link">‚öìÔ∏é</a></h1>
<p>BACCALAUR√âAT G√âN√âRAL, NSI, 2022, Polyn√©sie</p>
<p>Dur√©e de l'√©preuve : 3 heures 30<br />
L'usage de la calculatrice avec mode examen actif est autoris√©.<br />
L'usage de la calculatrice sans m√©moire, ¬´ type coll√®ge ¬ª est autoris√©.</p>
<p>Le candidat traite au choix 3 exercices parmi les 5 exercices
propos√©s.</p>
<div class="admonition warning">
<p class="admonition-title">Sujet non officiel</p>
<p>Ce n'est pas le sujet officiel, quelques modifications mineures ont √©t√© apport√©es.</p>
<p>Le sujet d'origine est disponible en <a href="../JIPO1.pdf">t√©l√©chargement</a>.</p>
</div>
<h2 id="exercice-1-4-points">EXERCICE 1 (4 points)<a class="headerlink" href="#exercice-1-4-points" title="Permanent link">‚öìÔ∏é</a></h2>
<blockquote>
<p>Cet exercice traite du th√®me ¬´ programmation ¬ª, et principalement de la r√©cursivit√©.</p>
</blockquote>
<p>On rappelle qu'une chaine de caract√®res peut √™tre repr√©sent√©e en Python par un texte entre guillemets <code>""</code> et que :</p>
<ul>
<li>la fonction <code>len</code> renvoie la longueur de la chaine de caract√®res pass√©e en
param√®tre ;</li>
<li>si une variable <code>ch</code> d√©signe une chaine de caract√®res, alors <code>ch[0]</code> renvoie son premier caract√®re, <code>ch[1]</code> le deuxi√®me, etc ;</li>
<li>l'op√©rateur <code>+</code> permet de concat√©ner deux chaines de caract√®res.</li>
</ul>
<div class="admonition example">
<p class="admonition-title">Exemples</p>
<div class="highlight"><span class="filename">üêç Console Python</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">texte</span> <span class="o">=</span> <span class="s2">&quot;bricot&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">texte</span><span class="p">)</span>
<span class="go">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">texte</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&quot;b&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">texte</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">&quot;r&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;a&quot;</span> <span class="o">+</span> <span class="n">texte</span>
<span class="go">&quot;abricot&quot;</span>
</code></pre></div>
</div>
<p>On s'int√©resse dans cet exercice √† la construction de chaines de caract√®res suivant certaines r√®gles de construction.</p>
<div class="admonition info">
<p class="admonition-title">R√®gle A</p>
<p>Une chaine est construite suivant la r√®gle A dans les deux cas suivants :</p>
<ul>
<li>soit elle est √©gale √† <code>"a"</code> ;</li>
<li>soit elle est de la forme <code>"a" + chaine + "a"</code>, o√π <code>chaine</code> est une chaine de caract√®res construite suivant la r√®gle A.</li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">R√®gle B</p>
<p>Une chaine est construite suivant la r√®gle B dans les deux cas suivants :</p>
<ul>
<li>soit elle est de la forme <code>"b" + chaine + "b"</code>, o√π <code>chaine</code> est une chaine de caract√®res construite suivant la r√®gle A ;</li>
<li>soit elle est de la forme <code>"b" + chaine + "b"</code>, o√π <code>chaine</code> est une chaine de caract√®res construite suivant la r√®gle B.</li>
</ul>
</div>
<div class="admonition tip">
<p class="admonition-title">Fonction <code>choice</code> du module <code>random</code></p>
<p>On a reproduit ci-dessous l'aide de la fonction <code>choice</code> du module <code>random</code>.</p>
<div class="highlight"><span class="filename">üêç Console Python</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">choice</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span>
<span class="go">Help on method choice in module random:</span>
<span class="go">choice(seq) method of random.Random instance</span>
<span class="go">Choose a random element from a non-empty sequence.</span>
</code></pre></div>
</div>
<p>La fonction <code>A</code> ci-dessous renvoie une chaine de caract√®res construite suivant la r√®gle A, en choisissant al√©atoirement entre les deux cas de figure de cette r√®gle.</p>
<div class="highlight"><span class="filename">üêç Script Python</span><pre><span></span><code><span class="k">def</span> <span class="nf">A</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">choice</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">]):</span>
        <span class="k">return</span> <span class="s2">&quot;a&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;a&quot;</span> <span class="o">+</span> <span class="n">A</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;a&quot;</span>
</code></pre></div>
<p><strong>1.a)</strong> Cette fonction est-elle r√©cursive ? Justifier.</p>
<details class="done">
<summary>R√©ponse</summary>
<p>La fonction <code>A</code> s'appelle elle-m√™me, donc <code>A</code> est une fonction r√©cursive.</p>
</details>
<p><strong>1.b)</strong> La fonction <code>choice([True, False])</code> peut renvoyer <code>False</code> un tr√®s grand
nombre de fois cons√©cutives. Expliquer pourquoi ce cas de figure am√®nerait √†
une erreur d'ex√©cution.</p>
<details class="done">
<summary>R√©ponse</summary>
<p>Si <code>choice([True, False])</code> renvoie <code>False</code> cons√©cutivement un nombre de fois sup√©rieur √† la limite de profondeur de r√©cursion autoris√©e (1000 par d√©faut avec Python), dans ce cas une erreur d'ex√©cution se produit.</p>
<div class="admonition danger">
<p class="admonition-title">Pour aller plus loin</p>
<p>On pourrait modifier cette limite √† <span class="arithmatex">\(10^6\)</span> avec le code suivant</p>
<div class="highlight"><span class="filename">üêç Script Python</span><pre><span></span><code><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">setrecursionlimit</span><span class="p">(</span><span class="mi">10</span><span class="o">**</span><span class="mi">6</span><span class="p">)</span>
</code></pre></div>
</div>
</details>
<p>Dans la suite, on consid√®re une deuxi√®me version de la fonction <code>A</code>. √Ä pr√©sent, la fonction prend en param√®tre un entier <code>n</code> tel que,</p>
<ul>
<li>si la valeur de <code>n</code> est n√©gative ou nulle, la fonction renvoie <code>"a"</code> ;</li>
<li>si la valeur de <code>n</code> est strictement positive, elle renvoie une chaine de caract√®res construite suivant la r√®gle A avec un <code>n</code> d√©cr√©ment√© de 1, en choisissant al√©atoirement entre les deux cas de figure de cette r√®gle.</li>
</ul>
<div class="highlight"><span class="filename">üêç Script Python</span><pre><span></span><code><span class="k">def</span> <span class="nf">A</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="o">...</span> <span class="ow">or</span> <span class="n">choice</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span> <span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;a&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;a&quot;</span> <span class="o">+</span> <span class="o">...</span> <span class="o">+</span> <span class="s2">&quot;a&quot;</span>
</code></pre></div>
<p><strong>2.a)</strong> Recopier sur la copie et compl√©ter aux emplacements des points de
suspension <code>...</code> le code de cette nouvelle fonction <code>A</code>.</p>
<details class="done">
<summary>R√©ponse</summary>
<div class="highlight"><span class="filename">üêç Script Python</span><pre><span></span><code><span class="k">def</span> <span class="nf">A</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">choice</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span> <span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;a&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;a&quot;</span> <span class="o">+</span> <span class="n">A</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;a&quot;</span>
</code></pre></div>
</details>
<p><strong>2.b)</strong> Justifier le fait qu'un appel de la forme <code>A(n)</code> avec <code>n</code> un nombre entier positif inf√©rieur √† 50, termine toujours.</p>
<details class="done">
<summary>R√©ponse</summary>
<p>Pour <span class="arithmatex">\(n &gt; 0\)</span>, l'appel √† <code>A(n)</code> provoque ou bien un arr√™t de la fonction, ou bien un appel r√©cursif avec le param√®tre <code>n - 1</code>.</p>
<p>Un appel √† <code>A(50)</code> pourrait provoquer dans le pire des cas 50 appels r√©cursifs pour arriver √† <code>A(0)</code> qui termine, ou alors terminer avant !</p>
</details>
<p>On donne ci-apr√®s le code de la fonction r√©cursive B qui prend en param√®tre un entier <code>n</code> et qui renvoie une chaine de caract√®res construite suivant la r√®gle B.</p>
<div class="highlight"><span class="filename">üêç Script Python</span><pre><span></span><code><span class="k">def</span> <span class="nf">B</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">choice</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">]):</span>
        <span class="k">return</span> <span class="s2">&quot;b&quot;</span> <span class="o">+</span> <span class="n">A</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;b&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;b&quot;</span> <span class="o">+</span> <span class="n">B</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;b&quot;</span>
</code></pre></div>
<p>On admet que :</p>
<ul>
<li>les appels <code>A(-1)</code> et <code>A(0)</code> renvoient la chaine <code>"a"</code> ;</li>
<li>l'appel <code>A(1)</code> renvoie la chaine <code>"a"</code> ou la chaine <code>"aaa"</code> ;</li>
<li>l'appel <code>A(2)</code> renvoie la chaine <code>"a"</code>, la chaine <code>"aaa"</code> ou la chaine <code>"aaaaa"</code>.</li>
</ul>
<p><strong>3.</strong> Donner toutes les chaines possibles renvoy√©es par les appels <code>B(0)</code>, <code>B(1)</code> et <code>B(2)</code>.</p>
<details class="done">
<summary>R√©ponse</summary>
<ul>
<li><code>B(0)</code> renvoie <code>"bab"</code></li>
<li><code>B(1)</code> renvoie <code>"bab"</code> ou <code>"bbabb"</code>.</li>
<li><code>B(2)</code> renvoie <code>"bab"</code>, <code>"baaab"</code>, <code>"bbabb"</code> ou <code>"bbbabbb"</code>.</li>
</ul>
</details>
<p>On suppose maintenant qu'on dispose d'une fonction <code>raccourcir</code> qui prend comme param√®tre une chaine de caract√®res de longueur sup√©rieure ou √©gale √† 2, et renvoie la chaine de caract√®res obtenue √† partir de la chaine initiale en lui √¥tant le premier et le dernier caract√®re.</p>
<div class="admonition example">
<p class="admonition-title">Par exemple :</p>
<div class="highlight"><span class="filename">üêç Console Python</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">raccourcir</span><span class="p">(</span><span class="s2">&quot;abricot&quot;</span><span class="p">)</span>
<span class="go">&quot;brico&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">raccourcir</span><span class="p">(</span><span class="s2">&quot;ab&quot;</span><span class="p">)</span>
<span class="go">&quot;&quot;</span>
</code></pre></div>
</div>
<p><strong>4.a)</strong> Recopier sur la copie et compl√©ter les points de suspension <code>...</code> du code de la fonction <code>regle_A</code> ci-dessous pour qu'elle renvoie <code>True</code> si la chaine pass√©e en param√®tre est construite suivant la r√®gle A, et <code>False</code> sinon.</p>
<div class="highlight"><span class="filename">üêç Script Python</span><pre><span></span><code><span class="k">def</span> <span class="nf">regle_A</span><span class="p">(</span><span class="n">chaine</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">chaine</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">chaine</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span> <span class="ow">and</span> <span class="n">chaine</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span> <span class="ow">and</span> <span class="n">regle_A</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">chaine</span> <span class="o">==</span> <span class="o">...</span>
</code></pre></div>
<details class="done">
<summary>R√©ponse</summary>
<div class="highlight"><span class="filename">üêç Script Python</span><pre><span></span><code><span class="k">def</span> <span class="nf">regle_A</span><span class="p">(</span><span class="n">chaine</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">chaine</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">chaine</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span> <span class="ow">and</span> <span class="n">chaine</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span> <span class="ow">and</span> <span class="n">regle_A</span><span class="p">(</span><span class="n">raccourcir</span><span class="p">(</span><span class="n">chaine</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">chaine</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span>
</code></pre></div>
</details>
<p><strong>4.b)</strong> √âcrire le code d'une fonction <code>regle_B</code>, prenant en param√®tre une chaine de caract√®res et renvoyant <code>True</code> si la chaine est construite suivant la r√®gle B, et <code>False</code> sinon.</p>
<details class="done">
<summary>R√©ponse</summary>
<div class="highlight"><span class="filename">üêç Script Python</span><pre><span></span><code><span class="k">def</span> <span class="nf">regle_B</span><span class="p">(</span><span class="n">chaine</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">chaine</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">chaine</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;b&quot;</span> <span class="ow">and</span> <span class="n">chaine</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;b&quot;</span> <span class="ow">and</span> <span class="p">(</span>
            <span class="n">regle_A</span><span class="p">(</span><span class="n">chaine</span><span class="p">[</span><span class="mi">1</span> <span class="p">:</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="ow">or</span> <span class="n">regle_B</span><span class="p">(</span><span class="n">raccourcir</span><span class="p">(</span><span class="n">chaine</span><span class="p">))</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
</details>
<h2 id="exercice-2-4-points">EXERCICE 2 (4 points)<a class="headerlink" href="#exercice-2-4-points" title="Permanent link">‚öìÔ∏é</a></h2>
<blockquote>
<p>Cet exercice traite du th√®me ¬´ architecture mat√©rielle ¬ª, et principalement d'ordonnancement et d'expressions bool√©ennes.</p>
</blockquote>
<p>Un syst√®me est compos√© de 4 p√©riph√©riques, num√©rot√©s de 0 √† 3, et d'une m√©moire, reli√©s entre eux par un bus auquel est √©galement connect√© un dispositif ordonnanceur. √Ä l'aide d'un signal sp√©cifique envoy√© sur le bus, l'ordonnanceur sollicite √† tour de r√¥le les p√©riph√©riques pour qu'ils indiquent le type d'op√©ration (lecture ou √©criture) qu'ils souhaitent effectuer, et l'adresse m√©moire concern√©e.</p>
<p>Un tour a lieu quand les 4 p√©riph√©riques ont √©t√© sollicit√©s. <strong>Au d√©but d'un nouveau tour, on consid√®re que toutes les adresses sont disponibles en lecture et √©criture.</strong></p>
<p>Si un p√©riph√©rique demande l'√©criture √† une adresse m√©moire <strong>√† laquelle on n'a pas encore acc√©d√©</strong> pendant le tour, l'ordonnanceur r√©pond <code>"OK"</code> et l'√©criture a lieu. Si on a d√©j√† demand√© la lecture ou l'√©criture √† cette adresse, l'ordonnanceur r√©pond <code>"ATT"</code> et l'op√©ration n'a pas lieu.</p>
<p>Si un p√©riph√©rique demande la lecture √† une adresse √† laquelle on n'a pas encore acc√©d√© en √©criture pendant le tour, l'ordonnanceur r√©pond <code>"OK"</code> et la lecture a lieu. Plusieurs lectures peuvent avoir donc lieu pendant le m√™me tour √† la m√™me adresse.</p>
<p>Si un p√©riph√©rique demande la lecture √† une adresse √† laquelle on a d√©j√† acc√©d√© en √©criture, l'ordonnanceur r√©pond <code>"ATT"</code> et la lecture n'a pas lieu.</p>
<p>Ainsi, pendant un tour, une adresse peut √™tre utilis√©e soit une seule fois en √©criture, soit autant de fois qu'on veut en lecture, soit pas utilis√©e.</p>
<p>Si un p√©riph√©rique ne peut pas effectuer une op√©ration √† une adresse, il demande la m√™me op√©ration √† la m√™me adresse au tour suivant.</p>
<p><strong>1.</strong> Le tableau donn√© en annexe 1 indique, sur chaque ligne, le p√©riph√©rique s√©lectionn√©, l'adresse √† laquelle il souhaite acc√©der et l'op√©ration √† effectuer sur cette adresse. Compl√©ter dans la derni√®re colonne de cette annexe, √† rendre avec la copie, la r√©ponse donn√©e par l'ordonnanceur pour chaque op√©ration.</p>
<div class="admonition abstract">
<p class="admonition-title">Annexe 1</p>
<table>
<thead>
<tr>
<th align="left">N¬∞ p√©riph√©rique</th>
<th align="left">Adresse</th>
<th align="left">Op√©ration</th>
<th align="left">R√©ponse de l'ordonnanceur</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">0</td>
<td align="left"><code>10</code></td>
<td align="left">√©criture</td>
<td align="left"><code>"OK"</code></td>
</tr>
<tr>
<td align="left">1</td>
<td align="left"><code>11</code></td>
<td align="left">lecture</td>
<td align="left"><code>"OK"</code></td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><code>10</code></td>
<td align="left">lecture</td>
<td align="left"><code>"ATT"</code></td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><code>10</code></td>
<td align="left">√©criture</td>
<td align="left"><code>"ATT"</code></td>
</tr>
<tr>
<td align="left">0</td>
<td align="left"><code>12</code></td>
<td align="left">lecture</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">1</td>
<td align="left"><code>10</code></td>
<td align="left">lecture</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><code>10</code></td>
<td align="left">lecture</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><code>10</code></td>
<td align="left">√©criture</td>
<td align="left"></td>
</tr>
</tbody>
</table>
</div>
<details class="done">
<summary>R√©ponse</summary>
<p>TODO</p>
<table>
<thead>
<tr>
<th align="left">N¬∞ p√©riph√©rique</th>
<th align="left">Adresse</th>
<th align="left">Op√©ration</th>
<th align="left">R√©ponse de l'ordonnanceur</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">0</td>
<td align="left"><code>10</code></td>
<td align="left">√©criture</td>
<td align="left"><code>"OK"</code></td>
</tr>
<tr>
<td align="left">1</td>
<td align="left"><code>11</code></td>
<td align="left">lecture</td>
<td align="left"><code>"OK"</code></td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><code>10</code></td>
<td align="left">lecture</td>
<td align="left"><code>"ATT"</code></td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><code>10</code></td>
<td align="left">√©criture</td>
<td align="left"><code>"ATT"</code></td>
</tr>
<tr>
<td align="left">0</td>
<td align="left"><code>12</code></td>
<td align="left">lecture</td>
<td align="left"><code>"OK"</code></td>
</tr>
<tr>
<td align="left">1</td>
<td align="left"><code>10</code></td>
<td align="left">lecture</td>
<td align="left"><code>"OK"</code></td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><code>10</code></td>
<td align="left">lecture</td>
<td align="left"><code>"OK"</code></td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><code>10</code></td>
<td align="left">√©criture</td>
<td align="left"><code>"ATT"</code></td>
</tr>
</tbody>
</table>
</details>
<p>On suppose dans toute la suite que :</p>
<ul>
<li>le p√©riph√©rique 0 √©crit syst√©matiquement √† l'adresse 10 ;</li>
<li>le p√©riph√©rique 1 lit syst√©matiquement √† l'adresse 10 ;</li>
<li>le p√©riph√©rique 2 √©crit alternativement aux adresses 11 et 12 ;</li>
<li>le p√©riph√©rique 3 lit alternativement aux adresses 11 et 12 ;</li>
</ul>
<p>Pour les p√©riph√©riques 2 et 3, le changement d'adresse n'est effectif que lorsque l'op√©ration et r√©alis√©e.</p>
<p><strong>2.</strong> On suppose que les p√©riph√©riques sont s√©lectionn√©s √† chaque tour dans l'ordre 0 ; 1 ; 2 ; 3. Expliquer ce qu'il se passe pour le p√©riph√©rique 1.</p>
<details class="done">
<summary>R√©ponse</summary>
<p>Le p√©riph√©rique 1 ne pourra jamais effectuer sa lecture √† l‚Äôadresse m√©moire 10 puisque juste avant le p√©riph√©rique 0 aura effectu√© une √©criture √† l‚Äôadresse m√©moire 10.</p>
</details>
<p>Les p√©riph√©riques sont sollicit√©s de la mani√®re suivante lors de quatre tours successifs :</p>
<ul>
<li>au premier tour, ils sont sollicit√©s dans l'ordre 0 ; 1 ; 2 ; 3 ;</li>
<li>au deuxi√®me tour, dans l'ordre 1 ; 2 ; 3 ; 0 ;</li>
<li>au troisi√®me tour, 2 ; 3 ; 0 ; 1 ;</li>
<li>puis 3 ; 0 ; 1 ; 2 au dernier tour.</li>
<li>Et on recommence...</li>
</ul>
<p><strong>3.a)</strong> Pr√©ciser pour chacun de ces tours si le p√©riph√©rique 0 peut √©crire et si le p√©riph√©rique 1 peut lire.</p>
<details class="done">
<summary>R√©ponse</summary>
<ul>
<li>tour 1 : 0 peut √©crire ; 1 ne peut pas lire  </li>
<li>tour 2 : 0 ne peut pas √©crire ; 1 peut lire  </li>
<li>tour 3 : 0 peut √©crire ; 1 ne peut pas lire  </li>
<li>tour 4 : 0 peut √©crire ; 1 ne peut pas lire</li>
</ul>
</details>
<p><strong>3.b)</strong> En d√©duire la proportion des valeurs √©crites par le p√©riph√©rique 0 qui sont effectivement lues par le p√©riph√©rique 1.</p>
<details class="done">
<summary>R√©ponse</summary>
<p>0 peut √©crire trois fois et 1 peut lire une seule fois, seulement un tiers des valeurs √©crites par 0 sont lues par 1, soit 33%</p>
</details>
<p>On change la m√©thode d'ordonnancement : on d√©termine l'ordre des p√©riph√©riques au cours d'un tour √† l'aide de deux listes d'attente <code>ATTL_L</code> et <code>ATT_E</code> √©tablies au tour pr√©c√©dent.</p>
<p>Au cours d'un tour, on place dans la liste <code>ATT_L</code> toutes les op√©rations de lecture mises en attente, et dans la liste d'attente <code>ATT_E</code> toutes les op√©rations d'√©criture mises en attente.</p>
<p>Au d√©but du tour suivant, on √©tablit l'ordre d'interrogation des p√©riph√©riques en proc√©dant ainsi :</p>
<ul>
<li>on interroge ceux pr√©sents dans la liste <code>ATT_L</code>, par ordre croissant d'adresse,</li>
<li>on interroge ensuite ceux pr√©sents dans la liste <code>ATT_E</code>, par ordre croissant
d'adresse,</li>
<li>puis on interroge les p√©riph√©riques restants, par ordre croissant d'adresse.</li>
</ul>
<p><strong>4.</strong> Compl√©ter et rendre avec la copie le tableau fourni en annexe 2, en utilisant l'ordonnancement d√©crit ci-dessus, sur 3 tours.</p>
<div class="admonition abstract">
<p class="admonition-title">Annexe 2</p>
<table>
<thead>
<tr>
<th align="left">Tour</th>
<th align="left">N¬∞ p√©riph√©rique</th>
<th align="left">Adresse</th>
<th align="left">Op√©ration</th>
<th align="left">R√©ponse ordonnanceur</th>
<th align="left"><code>ATT_L</code></th>
<th align="left"><code>ATT_E</code></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">1</td>
<td align="left">0</td>
<td align="left"><code>10</code></td>
<td align="left">√©criture</td>
<td align="left"><code>"OK"</code></td>
<td align="left">vide</td>
<td align="left">vide</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">1</td>
<td align="left"><code>10</code></td>
<td align="left">lecture</td>
<td align="left"><code>"ATT"</code></td>
<td align="left"><code>(1, 10)</code></td>
<td align="left">vide</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">2</td>
<td align="left"><code>11</code></td>
<td align="left">√©criture</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">3</td>
<td align="left"><code>11</code></td>
<td align="left">lecture</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">1</td>
<td align="left"><code>10</code></td>
<td align="left">lecture</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">vide</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">0</td>
<td align="left"><code>10</code></td>
<td align="left">√©criture</td>
<td align="left"></td>
<td align="left">vide</td>
<td align="left">vide</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">1</td>
<td align="left"><code>10</code></td>
<td align="left">lecture</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">vide</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">2</td>
<td align="left"><code>11</code></td>
<td align="left">√©criture</td>
<td align="left"><code>"OK"</code></td>
<td align="left"><code>(1, 10)</code></td>
<td align="left">vide</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">3</td>
<td align="left"><code>12</code></td>
<td align="left">lecture</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>
</div>
<details class="done">
<summary>R√©ponse</summary>
</details>
<table>
<thead>
<tr>
<th align="left">Tour</th>
<th align="left">N¬∞ p√©riph√©rique</th>
<th align="left">Adresse</th>
<th align="left">Op√©ration</th>
<th align="left">R√©ponse ordonnanceur</th>
<th align="left"><code>ATT_L</code></th>
<th align="left"><code>ATT_E</code></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">1</td>
<td align="left">0</td>
<td align="left"><code>10</code></td>
<td align="left">√©criture</td>
<td align="left"><code>"OK"</code></td>
<td align="left">vide</td>
<td align="left">vide</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">1</td>
<td align="left"><code>10</code></td>
<td align="left">lecture</td>
<td align="left"><code>"ATT"</code></td>
<td align="left"><code>(1, 10)</code></td>
<td align="left">vide</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">2</td>
<td align="left"><code>11</code></td>
<td align="left">√©criture</td>
<td align="left"><code>"OK"</code></td>
<td align="left"><code>(1, 10)</code></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">3</td>
<td align="left"><code>11</code></td>
<td align="left">lecture</td>
<td align="left"><code>"ATT"</code></td>
<td align="left"><code>(1, 10)</code> <code>(3, 11)</code></td>
<td align="left">vide</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">1</td>
<td align="left"><code>10</code></td>
<td align="left">lecture</td>
<td align="left"><code>"OK"</code></td>
<td align="left"><code>(3, 11)</code></td>
<td align="left">vide</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">3</td>
<td align="left"><code>11</code></td>
<td align="left">lecture</td>
<td align="left"><code>"OK"</code></td>
<td align="left">vide</td>
<td align="left">vide</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">0</td>
<td align="left"><code>10</code></td>
<td align="left">lecture</td>
<td align="left"><code>"ATT"</code></td>
<td align="left">vide</td>
<td align="left"><code>(0, 10)</code></td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">2</td>
<td align="left"><code>12</code></td>
<td align="left">√©criture</td>
<td align="left"><code>"OK"</code></td>
<td align="left">vide</td>
<td align="left"><code>(0, 10)</code></td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">0</td>
<td align="left"><code>10</code></td>
<td align="left">√©criture</td>
<td align="left"><code>"OK"</code></td>
<td align="left">vide</td>
<td align="left">vide</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">1</td>
<td align="left"><code>10</code></td>
<td align="left">lecture</td>
<td align="left"><code>"ATT"</code></td>
<td align="left"><code>(1, 10)</code></td>
<td align="left">vide</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">2</td>
<td align="left"><code>11</code></td>
<td align="left">√©criture</td>
<td align="left"><code>"OK"</code></td>
<td align="left"><code>(1, 10)</code></td>
<td align="left">vide</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">3</td>
<td align="left"><code>12</code></td>
<td align="left">lecture</td>
<td align="left"><code>"OK"</code></td>
<td align="left"><code>(1, 10)</code></td>
<td align="left">vide</td>
</tr>
</tbody>
</table>
<p>Les colonnes <strong>e0</strong> et <strong>e1</strong> du tableau suivant recensent les deux chiffres de l'√©criture binaire de l'entier <strong>n</strong> de la premi√®re colonne.</p>
<table>
<thead>
<tr>
<th align="center">nombre n</th>
<th align="center">√©criture binaire de n sur deux bits</th>
<th align="center">e1</th>
<th align="center">e0</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">0</td>
<td align="center">00</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">01</td>
<td align="center">0</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">10</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">11</td>
<td align="center">1</td>
<td align="center">1</td>
</tr>
</tbody>
</table>
<p>L'ordonnanceur attribue √† deux signaux sur le bus de donn√©es les valeurs de <strong>e0</strong> et <strong>e1</strong> associ√©es au num√©ro du circuit qu'il veut s√©lectionner. On souhaite construire √† l'aide des portes ET, OU et NON un circuit pour chaque p√©riph√©rique.<br />
Chacun des quatre circuits √† construire prend en entr√©e deux signaux <strong>e0</strong> et <strong>e1</strong>, le signal de sortie <strong>s</strong> valant 1 uniquement lorsque les niveaux de <strong>e0</strong> et <strong>e1</strong> correspondent aux bits de l'√©criture en binaire du num√©ro du p√©riph√©rique correspondant.</p>
<p>Par exemple, le circuit ci-dessous r√©alise la s√©lection du p√©riph√©rique 3. En effet, le signal <strong>s</strong> vaut 1 si et seulement si <strong>e0</strong> et <strong>e1</strong> valent tous les deux 1.</p>
<pre class="mermaid"><code>flowchart LR
    e0---ET
    e1---ET
    ET---s
    style e0 stroke-width:0px,opacity:0
    style e1 stroke-width:0px,opacity:0
    style s stroke-width:0px,opacity:0</code></pre>
<p><strong>5.a)</strong> Recopier sur la copie et indiquer dans le circuit ci-dessous les entr√©es <strong>e0</strong> et <strong>e1</strong> de fa√ßon √† ce que ce circuit s√©lectionne le p√©riph√©rique 1.</p>
<pre class="mermaid"><code>flowchart LR
    ea( )---NON---ET
    eb( )----ET
    ET---s
    style ea stroke-width:0px,opacity:0
    style eb stroke-width:0px,opacity:0
    style s stroke-width:0px,opacity:0</code></pre>
<details class="done">
<summary>R√©ponse</summary>
<pre class="mermaid"><code>flowchart LR
    ea(e1)---NON---ET
    eb(e0)----ET
    ET---s
    style ea stroke-width:0px,opacity:0
    style eb stroke-width:0px,opacity:0
    style s stroke-width:0px,opacity:0</code></pre>
</details>
<p><strong>5.b)</strong> Dessiner un circuit constitu√© d'une porte ET et d'une porte NON, qui s√©lectionne le p√©riph√©rique 2.</p>
<details class="done">
<summary>R√©ponse</summary>
<pre class="mermaid"><code>flowchart LR
    ea(e1)----ET
    eb(e0)---NON---ET
    ET---s
    style ea stroke-width:0px,opacity:0
    style eb stroke-width:0px,opacity:0
    style s stroke-width:0px,opacity:0</code></pre>
</details>
<p><strong>5.c)</strong> Dessiner un circuit permettant de s√©lectionner le p√©riph√©rique 0.</p>
<details class="done">
<summary>R√©ponse</summary>
<pre class="mermaid"><code>flowchart LR
    ea(e0)---NON 
    eb(e1)---NON
    NON---ET 
    NON---ET   
    ET---s
    style ea stroke-width:0px,opacity:0
    style eb stroke-width:0px,opacity:0
    style s stroke-width:0px,opacity:0</code></pre>
</details>
<pre class="mermaid"><code>flowchart LR
    ea(e0)---NON---ET
    eb(e1)---NON---ET
    ET---s
    style ea stroke-width:0px,opacity:0
    style eb stroke-width:0px,opacity:0
    style s stroke-width:0px,opacity:0</code></pre>
<h2 id="exercice-3-4-points">EXERCICE 3 (4 points)<a class="headerlink" href="#exercice-3-4-points" title="Permanent link">‚öìÔ∏é</a></h2>
<blockquote>
<p>Cet exercice traite du th√®me ¬´ base de donn√©es ¬ª, et principalement du mod√®le relationnel et du langage SQL.</p>
</blockquote>
<p>L'√©nonc√© de cet exercice peut utiliser les mots du langage SQL suivants :</p>
<p><code>CREATE TABLE, SELECT, FROM, WHERE, JOIN ON, INSERT INTO, VALUES, UPDATE, SET, DELETE, COUNT, DISTINCT, AND, OR, AS, ORDER BY, ASC, DESC</code></p>
<p>Un site web recueille des donn√©es de navigation dans une base de donn√©es afin d'√©tudier les profils de ses visiteurs.<br />
Chaque requ√™te d'interrogation d'une page de ce site est enregistr√©e dans une premi√®re table d√©nomm√©e <strong>Visites</strong> sous la forme d'un 5-uplet : <code>(identifiant, adresse IP, date et heure de visite, nom de la page, navigateur)</code>.</p>
<p>Le chargement de la page <code>index.html</code> par <code>192.168.1.91</code> le 12 juillet 1998 √† 22 h 48 aura par exemple √©t√© enregistr√© de la fa√ßon suivante :</p>
<p><code>(1534, "192.168.1.91", "1998-07-12 22:48:00", "index.html", "Internet explorer 4.1")</code>.</p>
<p>La commande SQL ayant permis de cr√©er cette table est la suivante :</p>
<div class="highlight"><span class="filename">üóÇÔ∏è Requ√™te SQL</span><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">Visites</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">identifiant</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">UNIQUE</span><span class="p">,</span>
<span class="w">    </span><span class="n">ip</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">15</span><span class="p">),</span>
<span class="w">    </span><span class="n">dateheure</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">,</span>
<span class="w">    </span><span class="n">nompage</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">    </span><span class="n">navigateur</span><span class="w"> </span><span class="nb">TEXT</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>1.a)</strong> Donner une commande d'interrogation en langage SQL permettant d'obtenir l'ensemble des 2-uplets <code>(adresse IP, nom de la page)</code> de cette table.</p>
<details class="done">
<summary>R√©ponse</summary>
<div class="highlight"><span class="filename">üóÇÔ∏è Requ√™te SQL</span><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">ip</span><span class="p">,</span><span class="n">nompage</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">Visites</span>
</code></pre></div>
</details>
<p><strong>1.b)</strong> Donner une commande en langage SQL permettant d'obtenir l'ensemble des adresses IP ayant interrog√© le site, sans doublon.</p>
<details class="done">
<summary>R√©ponse</summary>
<div class="highlight"><span class="filename">üóÇÔ∏è Requ√™te SQL</span><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">ip</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">Visites</span>
</code></pre></div>
</details>
<p><strong>1.c)</strong> Donner une commande en langage SQL permettant d'obtenir la liste des noms des pages visit√©es par l'adresse IP <code>192.168.1.91</code></p>
<details class="done">
<summary>R√©ponse</summary>
<div class="highlight"><span class="filename">üóÇÔ∏è Requ√™te SQL</span><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">nompage</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">Visites</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">ip</span><span class="o">=</span><span class="ss">&quot;192.168.1.91&quot;</span>
</code></pre></div>
</details>
<p>Ce site web met en place, sur chacune de ses pages, un programme en JavaScript qui envoie au serveur, √† intervalle r√©gulier de 15 secondes, le temps en secondes de pr√©sence sur la page. Ces envois contiennent tous la valeur de <code>identifiant</code> correspondant au chargement initial de la page.<br />
Par exemple, si le visiteur du 12 juillet 1998 est rest√© 65 secondes sur la page, celle-ci a envoy√© au serveur les 4 doublets <code>(1534, 15)</code>, <code>(1534, 30)</code>, <code>(1534, 45)</code> et <code>(1534, 60)</code>.</p>
<p>Ces donn√©es sont enregistr√©es dans une table nomm√©e <code>Pings</code> cr√©√©e avec la commande ci-dessous :</p>
<div class="highlight"><span class="filename">üóÇÔ∏è Requ√™te SQL</span><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">Pings</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">identifiant</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="n">duree</span><span class="w"> </span><span class="nb">INTEGER</span>
<span class="p">);</span>
</code></pre></div>
<p>En plus de l'inscription d'une ligne dans la table <code>Visites</code>, chaque chargement d'une nouvelle page provoque l'insertion d'une ligne dans la table <code>Pings</code> comprenant l'identifiant de ce chargement et une dur√©e de 0.</p>
<p>Les attributs <code>identifiant</code> des tables <code>Visites</code> et <code>Pings</code> partagent les m√™mes valeurs.</p>
<p><strong>2.a)</strong> De quelle table l'attribut <code>identifiant</code> est-il la cl√© primaire ?</p>
<details class="done">
<summary>R√©ponse</summary>
<p>l'attribut <code>identifiant</code> est la cl√© primaire de la table <code>Visistes (id)</code></p>
</details>
<p><strong>2.b)</strong> De quelle table l'attribut <code>identifiant</code> est-il une cl√© √©trang√®re ?</p>
<details class="done">
<summary>R√©ponse</summary>
<p>l'attribut <code>identifiant</code> est la cl√© √©trang√®re de la table <code>Pings</code></p>
</details>
<p><strong>2.c)</strong> Par cons√©quent, quelles v√©rifications sont automatiquement effectu√©es par le syst√®me de gestion de base de donn√©es ?</p>
<details class="done">
<summary>R√©ponse</summary>
<p>Le SGBD va v√©rifier que l‚Äôattribut identifiant est unique pour chaque p-upplet de la table Visites. Le SGBD va aussi v√©rifier que l‚Äôattribut identifiant de la table Pings correspond bien √† un attribut identifiant de la table Visites pour chaque p-upplet de la table Pings.</p>
</details>
<p><strong>3.</strong> Le serveur re√ßoit le doublet <code>(identifiant, duree)</code> suivant : <code>(1534, 105)</code>. √âcrire la commande SQL d'insertion qui permet d'ajouter cet enregistrement √† la table <code>Pings</code>.</p>
<details class="done">
<summary>R√©ponse</summary>
<div class="highlight"><span class="filename">üóÇÔ∏è Requ√™te SQL</span><pre><span></span><code><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">Pings</span><span class="w"> </span>
<span class="p">(</span><span class="n">identifiant</span><span class="p">,</span><span class="w"> </span><span class="n">duree</span><span class="p">)</span>
<span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">1534</span><span class="p">,</span><span class="w"> </span><span class="mi">105</span><span class="p">)</span>
</code></pre></div>
</details>
<p>On envisage ensuite d'optimiser la table en se contentant d'une seule ligne par identifiant dans la table <code>Pings</code> : les valeurs de l'attribut <code>duree</code> devraient alors √™tre mises √† jour √† chaque r√©ception d'un nouveau doublet <code>(identifiant, duree)</code>.</p>
<p><strong>4.a)</strong> √âcrire la requ√™te de mise √† jour permettant de fixer √† 120 la valeur de l'attribut <code>duree</code> associ√©e √† l'identifiant 1534 dans la table <code>Pings</code>.</p>
<details class="done">
<summary>R√©ponse</summary>
<div class="highlight"><span class="filename">üóÇÔ∏è Requ√™te SQL</span><pre><span></span><code><span class="k">UPDATE</span><span class="w"> </span><span class="n">Pings</span><span class="w"> </span>
<span class="k">SET</span><span class="w"> </span><span class="n">duree</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">120</span><span class="w"> </span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">identifiant</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1534</span>
</code></pre></div>
</details>
<p><strong>4.b)</strong> Expliquer pourquoi on ne peut pas √™tre certain que les donn√©es envoy√©es par une page web, depuis le navigateur d'un client, via plusieurs requ√™tes formul√©es en JavaScript, arrivent au serveur dans l'ordre dans lequel elles ont √©t√© √©mises.</p>
<details class="done">
<summary>R√©ponse</summary>
</details>
<p>Nous ne pouvons pas √™tre certains que les donn√©es envoy√©es par une page web, depuis le navigateur d‚Äôun client, via plusieurs requ√™tes formul√©es en JavaScript, arrivent au serveur dans l‚Äôordre dans lequel elles ont √©t√© √©mises, car les paquets de donn√©es (protocole TCP/IP) n‚Äôemprunteront pas forc√©ment le m√™me chemin pour aller du client vers le serveur (ou m√™me certains paquets de donn√©es pourront se ‚Äúperdre‚Äù et devront √™tre r√©√©mis par le client). Les requ√™tes HTTP √©tant constitu√©s de paquets de donn√©es, il n‚Äôest donc pas possible de garantir l‚Äôordre d‚Äôarriv√©e des requ√™tes HTTP.</p>
<p><strong>4.c)</strong> En d√©duire qu'il est pr√©f√©rable d'utiliser une requ√™te d'insertion plut√¥t qu'une requ√™te de mise √† jour pour ajouter des donn√©es √† la table <code>Pings</code>.</p>
<details class="done">
<summary>R√©ponse</summary>
<p>Imaginons que le client envoie 2 requ√™tes HTTP A et B (le client envoie la requ√™te A puis la requ√™te B). Si le serveur, en recevant la requ√™te B tente de mettre √† jour l‚Äôentr√©e correspondant √† la requ√™te A alors qu‚Äôil n‚Äôa pas encore re√ßu la requ√™te A, cela va entrainer une erreur (tente de mettre √† jour une entr√©e qui n‚Äôexiste pas).</p>
</details>
<p><strong>5.</strong> √âcrire une requ√™te SQL utilisant le mot-cl√© <code>JOIN</code> et une clause <code>WHERE</code>, permettant de trouver les noms de toutes les pages qui ont √©t√© consult√©es plus d'une minute par au moins un utilisateur.</p>
<details class="done">
<summary>R√©ponse</summary>
<div class="highlight"><span class="filename">üóÇÔ∏è Requ√™te SQL</span><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">nompage</span><span class="w"> </span>
<span class="k">FROM</span><span class="w"> </span><span class="n">Visites</span><span class="w"> </span>
<span class="k">JOIN</span><span class="w"> </span><span class="n">Pings</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">Visites</span><span class="p">.</span><span class="n">identifiant</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Pings</span><span class="p">.</span><span class="n">identifiant</span><span class="w"> </span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">duree</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">60</span>
</code></pre></div>
</details>
<h2 id="exercice-4-4-points">EXERCICE 4 (4 points)<a class="headerlink" href="#exercice-4-4-points" title="Permanent link">‚öìÔ∏é</a></h2>
<blockquote>
<p>Cet exercice traite du th√®me ¬´ structures de donn√©es ¬ª, et principalement des piles.</p>
</blockquote>
<p>La classe <code>Pile</code> utilis√©e dans cet exercice est impl√©ment√©e en utilisant des listes Python et propose quatre √©l√©ments d'interface :</p>
<ul>
<li>Un constructeur qui permet de cr√©er une pile vide, repr√©sent√©e par <code>[]</code> ;</li>
<li>La m√©thode <code>est_vide()</code> qui renvoie <code>True</code> si l'objet est une pile ne contenant aucun √©l√©ment, et <code>False</code> sinon ;</li>
<li>La m√©thode <code>empiler</code> qui prend un objet quelconque en param√®tre et ajoute cet objet au sommet de la pile. Dans la repr√©sentation de la pile dans la console, cet objet apparait √† droite des autres √©l√©ments de la pile ;</li>
<li>La m√©thode <code>depiler</code> qui renvoie l'objet pr√©sent au sommet de la pile et le retire de la pile.</li>
</ul>
<div class="admonition example">
<p class="admonition-title">Exemples :</p>
<div class="highlight"><span class="filename">üêç Console Python</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">ma_pile</span> <span class="o">=</span> <span class="n">Pile</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ma_pile</span><span class="o">.</span><span class="n">empiler</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ma_pile</span>
<span class="go">[2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ma_pile</span><span class="o">.</span><span class="n">empiler</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ma_pile</span><span class="o">.</span><span class="n">empiler</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ma_pile</span>
<span class="go">[2, 3, 50]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ma_pile</span><span class="o">.</span><span class="n">depiler</span><span class="p">()</span>
<span class="go">50</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ma_pile</span>
<span class="go">[2, 3]</span>
</code></pre></div>
</div>
<p>La m√©thode <code>est_triee</code> ci-dessous renvoie <code>True</code> si, en d√©pilant tous les √©l√©ments, ils sont trait√©s dans l'ordre croissant, et <code>False</code> sinon.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">üêç Script Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">est_triee</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">est_vide</span><span class="p">():</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">depiler</span><span class="p">()</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">est_vide</span><span class="p">():</span>
            <span class="n">e2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">depiler</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">e1</span> <span class="o">...</span> <span class="n">e2</span> <span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="n">e1</span> <span class="o">=</span> <span class="o">...</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
<p><strong>1.</strong> Recopier sur la copie les lignes 6 et 8 en compl√©tant les points de suspension.</p>
<details class="done">
<summary>R√©ponse</summary>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">üêç Script Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">est_triee</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">est_vide</span><span class="p">():</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">depiler</span><span class="p">()</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">est_vide</span><span class="p">():</span>
            <span class="n">e2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">depiler</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">e1</span> <span class="o">&gt;</span> <span class="n">e2</span> <span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="n">e1</span> <span class="o">=</span> <span class="n">e2</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
</details>
<p>On cr√©e dans la console la pile <code>A</code> repr√©sent√©e par <code>[1, 2, 3, 4]</code>.</p>
<p><strong>2.a)</strong> Donner la valeur renvoy√©e par l'appel <code>A.est_triee()</code>.</p>
<details class="done">
<summary>R√©ponse</summary>
<p>La valeur <span class="arithmatex">\(4\)</span> est d'abord d√©pil√©e, puis <span class="arithmatex">\(3\)</span>. L'ordre n'est pas croissant, ainsi <code>A.est_triee()</code> renvoie <code>False</code>.</p>
</details>
<p><strong>2.b)</strong> Donner le contenu de la pile <code>A</code> apr√®s l'ex√©cution de cette instruction.</p>
<details class="done">
<summary>R√©ponse</summary>
<p><code>A</code> sera repr√©sent√© par <code>[1, 2]</code>.</p>
</details>
<p>On souhaite maintenant √©crire le code d'une m√©thode <code>depile_max</code> d'une pile non vide ne contenant que des nombres entiers et renvoyant le plus grand √©l√©ment de cette pile en le retirant de la pile.</p>
<p>Apr√®s l'ex√©cution de <code>p.depile_max()</code>, le nombre d'√©l√©ments de la pile <code>p</code> diminue donc de 1.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">üêç Script Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">depile_max</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">assert</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">est_vide</span><span class="p">(),</span> <span class="s2">&quot;Pile vide&quot;</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">Pile</span><span class="p">()</span>
    <span class="n">maxi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">depiler</span><span class="p">()</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">est_vide</span><span class="p">():</span>
        <span class="n">elt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">depiler</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">maxi</span> <span class="o">&lt;</span> <span class="n">elt</span><span class="p">:</span>
            <span class="n">q</span><span class="o">.</span><span class="n">empiler</span><span class="p">(</span><span class="n">maxi</span><span class="p">)</span>
            <span class="n">maxi</span> <span class="o">=</span> <span class="o">...</span>
        <span class="k">else</span> <span class="p">:</span>
            <span class="o">...</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">q</span><span class="o">.</span><span class="n">est_vide</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">empiler</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">depiler</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">maxi</span>
</code></pre></div></td></tr></table></div>
<p><strong>3.</strong> Recopier sur la copie les lignes 9 et 11 en compl√©tant les points de suspension.</p>
<details class="done">
<summary>R√©ponse</summary>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">üêç Script Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">depile_max</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">assert</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">est_vide</span><span class="p">(),</span> <span class="s2">&quot;Pile vide&quot;</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">Pile</span><span class="p">()</span>
    <span class="n">maxi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">depiler</span><span class="p">()</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">est_vide</span><span class="p">():</span>
        <span class="n">elt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">depiler</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">maxi</span> <span class="o">&lt;</span> <span class="n">elt</span><span class="p">:</span>
            <span class="n">q</span><span class="o">.</span><span class="n">empiler</span><span class="p">(</span><span class="n">maxi</span><span class="p">)</span>
            <span class="n">maxi</span> <span class="o">=</span> <span class="n">elt</span>
        <span class="k">else</span> <span class="p">:</span>
            <span class="n">q</span><span class="o">.</span><span class="n">empiler</span><span class="p">(</span><span class="n">elt</span><span class="p">)</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">q</span><span class="o">.</span><span class="n">est_vide</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">empiler</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">depiler</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">maxi</span>
</code></pre></div></td></tr></table></div>
</details>
<p>On cr√©e la pile <code>B</code> repr√©sent√©e par <code>[9, -7, 8, 12, 4]</code> et on effectue l'appel <code>B.depile_max()</code>.</p>
<p><strong>4.a)</strong> Donner le contenu des piles <code>B</code> et <code>q</code> √† la fin de chaque it√©ration de la boucle <code class="highlight"><span class="k">while</span></code> de la ligne 5.</p>
<details class="done">
<summary>R√©ponse</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="1:5"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><input id="__tabbed_1_4" name="__tabbed_1" type="radio" /><input id="__tabbed_1_5" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Initialisation</label><label for="__tabbed_1_2">Fin du tour 1</label><label for="__tabbed_1_3">Fin du tour 2</label><label for="__tabbed_1_4">Fin du tour 3</label><label for="__tabbed_1_5">Fin du tour 4</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li><code>B</code> contient <code>[9, -7, 8, 12]</code> ;</li>
<li><code>q</code> est vide ;</li>
<li><code>maxi</code> est √©gal √† <code>4</code>.</li>
</ul>
<p>Juste avant le premier tour de boucle</p>
</div>
<div class="tabbed-block">
<ul>
<li><code>B</code> contient <code>[9, -7, 8]</code> ;</li>
<li><code>q</code> contient <code>[4]</code> ;</li>
<li><code>maxi</code> est √©gal √† <code>12</code>.</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><code>B</code> contient <code>[9, -7]</code> ;</li>
<li><code>q</code> contient <code>[4, 8]</code> ;</li>
<li><code>maxi</code> est √©gal √† <code>12</code>.</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><code>B</code> contient <code>[9]</code> ;</li>
<li><code>q</code> contient <code>[4, 8, -7]</code> ;</li>
<li><code>maxi</code> est √©gal √† <code>12</code>.</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><code>B</code> est vide ;</li>
<li><code>q</code> contient <code>[4, 8, -7, 9]</code> ;</li>
<li><code>maxi</code> est √©gal √† <code>12</code>.</li>
</ul>
</div>
</div>
</div>
</details>
<p><strong>4.b)</strong> Donner le contenu des piles <code>B</code> et <code>q</code> avant l'ex√©cution de la ligne 14.</p>
<details class="done">
<summary>R√©ponse</summary>
<p>La derni√®re boucle renverse la pile <code>q</code> dans la pile <code>B</code>, ainsi, √† la ligne 14 :</p>
<ul>
<li><code>q</code> est vide ;</li>
<li><code>B</code> contient <code>[9, -7, 8, 4]</code>.</li>
</ul>
</details>
<p><strong>4.c)</strong> Donner un exemple de pile qui montre que l'ordre des √©l√©ments restants n'est pas pr√©serv√© apr√®s l'ex√©cution de <code>depile_max</code>.</p>
<details class="done">
<summary>R√©ponse</summary>
<p>Avec une pile <code>B</code> qui contient <code>[3, 1, 2]</code></p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Initialisation</label><label for="__tabbed_2_2">Fin du tour 1</label><label for="__tabbed_2_3">Fin du tour 2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li><code>B</code> contient <code>[3, 1]</code> ;</li>
<li><code>q</code> est vide ;</li>
<li><code>maxi</code> est √©gal √† <code>2</code>.</li>
</ul>
<p>Juste avant le premier tour de boucle</p>
</div>
<div class="tabbed-block">
<ul>
<li><code>B</code> contient <code>[3]</code> ;</li>
<li><code>q</code> contient <code>[1]</code> ;</li>
<li><code>maxi</code> est √©gal √† <code>2</code>.</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><code>B</code> est vide ;</li>
<li><code>q</code> contient <code>[1, 2]</code> ;</li>
<li><code>maxi</code> est √©gal √† <code>3</code>.</li>
</ul>
</div>
</div>
</div>
<p>La derni√®re boucle renverse la pile <code>q</code> dans la pile <code>B</code>, ainsi, √† la ligne 14 :</p>
<ul>
<li><code>q</code> est vide ;</li>
<li><code>B</code> contient <code>[2, 1]</code>.</li>
</ul>
<p>Sans <code>3</code> dans la pile <code>B</code> initiale, on a dans l'ordre <code>[1, 2]</code> ce qui est diff√©rent de <code>[2, 1]</code> obtenu ici avec <code>depile_max</code>.</p>
<p>On a ainsi un exemple o√π l'ordre des √©l√©ments restants n'est pas pr√©serv√© apr√®s l'ex√©cution de <code>depile_max</code>.</p>
</details>
<p>On donne le code de la m√©thode <code>traiter</code> :</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">üêç Script Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">traiter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">Pile</span><span class="p">()</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">est_vide</span><span class="p">():</span>
        <span class="n">q</span><span class="o">.</span><span class="n">empiler</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">depile_max</span><span class="p">())</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">q</span><span class="o">.</span><span class="n">est_vide</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">empiler</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">depiler</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
<p><strong>5.a)</strong> Donner les contenus successifs des piles <code>B</code> et <code>q</code></p>
<ul>
<li>avant la ligne 3,</li>
<li>avant la ligne 5,</li>
<li>√† la fin de l'ex√©cution de la fonction <code>traiter</code> lorsque la fonction <code>traiter</code> est appel√©e avec la pile <code>B</code> contenant <code>[1, 6, 4, 3, 7, 2]</code>.</li>
</ul>
<details class="done">
<summary>R√©ponse</summary>
<p>Avec <code>B = [1, 6, 4, 3, 7, 2]</code>, un appel <code>B.traiter()</code> conduit successivement √† :</p>
<ul>
<li>Avant la ligne 3,<ul>
<li><code>B</code> contient <code>[1, 6, 4, 3, 7, 2]</code> ;</li>
<li><code>q</code> est vide.</li>
</ul>
</li>
<li>Avant la ligne 5,<ul>
<li><code>B</code> est vide ;</li>
<li><code>q</code> contient <code>[7, 6, 4, 3, 2, 1]</code></li>
</ul>
</li>
<li>√Ä la fin,<ul>
<li><code>B</code> contient <code>[1, 2, 3, 4, 6, 7]</code></li>
<li><code>q</code> est vide.</li>
</ul>
</li>
</ul>
</details>
<p><strong>5.b)</strong> Expliquer le traitement effectu√© par cette m√©thode.</p>
<details class="done">
<summary>R√©ponse</summary>
<p>Ce traitement est un tri de la pile. On construit d'abord <code>q</code> comme la pile des √©l√©ments de <code>self</code> dans l'ordre d√©croissant. On renverse ensuite la pile, qui se retrouve comme si on avait empil√© les √©l√©ments de <code>self</code> dans l'ordre croissant.</p>
</details>
<h2 id="exercice-5-4-points">EXERCICE 5 (4 points)<a class="headerlink" href="#exercice-5-4-points" title="Permanent link">‚öìÔ∏é</a></h2>
<blockquote>
<p>Cet exercice traite du th√®me ¬´ algorithmique ¬ª, et principalement des algorithmes sur les arbres binaires.</p>
</blockquote>
<p>On manipule ici les arbres binaires avec trois fonctions :</p>
<ul>
<li><code>est_vide(A)</code> renvoie <code>True</code> si l'arbre binaire <code>A</code> est vide, <code>False</code> s'il ne l'est pas ;</li>
<li><code>sous_arbre_gauche(A)</code> renvoie le sous-arbre √† gauche de l'arbre binaire <code>A</code> ;</li>
<li><code>sous_arbre_droite(A)</code> renvoie le sous-arbre √† droite de l'arbre binaire <code>A</code>.</li>
</ul>
<p>L'arbre binaire renvoy√© par les fonctions <code>sous_arbre_gauche</code> et <code>sous_arbre_droite</code> peut √©ventuellement √™tre l'arbre vide.</p>
<p>On d√©finit la hauteur d'un arbre binaire non vide de la fa√ßon suivante :</p>
<ul>
<li>si ses sous-arbres √† gauche et √† droite sont vides, sa hauteur est <span class="arithmatex">\(0\)</span> ;</li>
<li>si l'un des deux au moins est non vide, alors sa hauteur est √©gale √† <span class="arithmatex">\(1 + M\)</span>, o√π <span class="arithmatex">\(M\)</span> est la plus grande des hauteurs de ses sous-arbres (√† gauche et √† droite) non vides.</li>
</ul>
<p><strong>1.a)</strong> Donner la hauteur de l'arbre ci-dessous.</p>
<pre class="mermaid"><code>graph TD
    N0( ) --&gt; N2( )
    N0   --&gt; N1( )
    N2  --&gt; N5( )
    N2  --&gt; N6( )
    linkStyle 3 stroke-width:0px;
    style N6 opacity:0;</code></pre>
<details class="done">
<summary>R√©ponse</summary>
<p>Avec cette d√©finition, la hauteur de cet arbre binaire est 2.</p>
</details>
<p><strong>1.b)</strong> Dessiner sur la copie un arbre binaire de hauteur <span class="arithmatex">\(4\)</span>.</p>
<details class="done">
<summary>R√©ponse</summary>
<p>Avec cette d√©finition, voici un arbre binaire de hauteur <span class="arithmatex">\(4\)</span>.</p>
<pre class="mermaid"><code>graph TD
    N0( ) --&gt; N1( )
    N0   --&gt; N2( )
    N1  --&gt; N3( )
    N1  --&gt; N4( )
    N2  --&gt; N5( )
    N2  --&gt; N6( )
    N4  --&gt; N7( )
    N4  --&gt; N8( )
    N7  --&gt; N9( )
    N7  --&gt; N10( )
    linkStyle 7 stroke-width:0px;
    style N8 opacity:0;
    linkStyle 4 stroke-width:0px;
    style N5 opacity:0;</code></pre>
</details>
<p>La hauteur d'un arbre est calcul√©e par l'algorithme r√©cursif suivant :</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Pseudo Code</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code>Algorithme hauteur(A) :
    test d&#39;assertion : A est suppos√© non vide
    si sous_arbre_gauche(A) vide et sous_arbre_droite(A) vide :
        renvoyer 0
    sinon, si sous_arbre_gauche(A) vide :
        renvoyer 1 + hauteur(sous_arbre_droite(A))
    sinon, si ... :
        renvoyer ...
    sinon:
        renvoyer 1 + max(
            hauteur(sous_arbre_gauche(A)),
            hauteur(sous_arbre_droite(A))
        )
</code></pre></div></td></tr></table></div>
<p><strong>2.</strong> Recopier sur la copie les lignes 7 et 8 en compl√©tant les points de suspension.</p>
<details class="done">
<summary>R√©ponse</summary>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Pseudo Code</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code>Algorithme hauteur(A) :
    test d&#39;assertion : A est suppos√© non vide
    si sous_arbre_gauche(A) vide et sous_arbre_droite(A) vide :
        renvoyer 0
    sinon, si sous_arbre_gauche(A) vide :
        renvoyer 1 + hauteur(sous_arbre_droite(A))
    sinon, si sous_arbre_droite(A) vide :
        renvoyer 1 + hauteur(sous_arbre_gauche(A))
    sinon:
        renvoyer 1 + max(
            hauteur(sous_arbre_gauche(A)),
            hauteur(sous_arbre_droite(A))
        )
</code></pre></div></td></tr></table></div>
<div class="admonition danger">
<p class="admonition-title">Pour aller plus loin</p>
<p>Si on d√©finit la hauteur d'un arbre binaire vide √©gale √† 0, (celle d'un arbre r√©duit √† un seul n≈ìud √©gal √† 1), on a un algorithme bien plus simple, et qui traite tous les cas :</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Pseudo Code</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code>Algorithme hauteur(A) :
    si A vide :
        renvoyer 0
    sinon:
        renvoyer 1 + max(
            hauteur(sous_arbre_gauche(A)),
            hauteur(sous_arbre_droite(A))
        )
</code></pre></div></td></tr></table></div>
</div>
</details>
<p>On consid√®re un arbre binaire <code>R</code> dont on note <code>G</code> le sous-arbre √† gauche et <code>D</code> le
sous-arbre √† droite. On suppose que <code>R</code> est de hauteur <span class="arithmatex">\(4\)</span> et <code>G</code> de hauteur <span class="arithmatex">\(2\)</span>.</p>
<p><strong>3.a)</strong> Justifier le fait que <code>D</code> n'est pas l'arbre vide et d√©terminer sa hauteur.</p>
<details class="done">
<summary>R√©ponse</summary>
<p>Si <code>D</code> est √©gal √† l'arbre vide, alors la hauteur de <code>R</code> est √©gale √† <code>1 + hauteur(G)</code> qui est √©gal √† <span class="arithmatex">\(1+2=3\)</span>, or <code>R</code> est de hauteur <span class="arithmatex">\(4\)</span>. Contradiction.</p>
<p>Ainsi <code>D</code> n'est pas l'arbre vide.</p>
<p>Dans ce cas <code>1 + max(hauteur(G), hauteur(D))</code> est √©gal √† <span class="arithmatex">\(4\)</span>. D'o√π</p>
<ul>
<li><code>1 + max(2, hauteur(D))</code> est √©gal √† <span class="arithmatex">\(4\)</span>.</li>
<li><code>max(2, hauteur(D))</code> est √©gal √† <span class="arithmatex">\(3\)</span>.</li>
<li><code>hauteur(D)</code> est √©gal √† <span class="arithmatex">\(3\)</span>.</li>
</ul>
</details>
<p><strong>3.b)</strong> Illustrer cette situation par un dessin.</p>
<details class="done">
<summary>R√©ponse</summary>
<ul>
<li>Cet arbre est de hauteur <span class="arithmatex">\(4\)</span>,</li>
<li>son sous arbre √† gauche est de hauteur <span class="arithmatex">\(2\)</span>,</li>
<li>son sous arbre √† droite est de hauteur <span class="arithmatex">\(3\)</span>.</li>
</ul>
<pre class="mermaid"><code>graph TD
    N0( ) --&gt; N1( )
    N0   --&gt; N2( )
    N1  --&gt; N3( )
    N1  --&gt; N4( )
    N2  --&gt; N5( )
    N2  --&gt; N6( )
    N4  --&gt; N7( )
    N4  --&gt; N8( )
    N6  --&gt; N9( )
    N6  --&gt; N10( )
    N9  --&gt; N11( )
    N9  --&gt; N12( )
    linkStyle 7 stroke-width:0px;
    style N8 opacity:0;
    linkStyle 4 stroke-width:0px;
    style N5 opacity:0;</code></pre>
</details>
<p>Soit un arbre binaire non vide de hauteur <code>h</code>. On note <code>n</code> le nombre de n≈ìuds de cet arbre. On admet que <span class="arithmatex">\(h + 1 \leqslant n \leqslant 2^{h+1} - 1\)</span>.</p>
<p><strong>4.a)</strong> V√©rifier ces in√©galit√©s sur l'arbre binaire de la question <strong>1.a)</strong>.</p>
<details class="done">
<summary>R√©ponse</summary>
<p>Dans la question <strong>1.a)</strong>, l'arbre binaire poss√®de <span class="arithmatex">\(n = 4\)</span> n≈ìuds et a une hauteur <span class="arithmatex">\(h = 2\)</span>.</p>
<p>On a bien <span class="arithmatex">\(2 + 1 \leqslant 4 \leqslant 2^{2+1}\)</span> qui s'√©crit aussi <span class="arithmatex">\(3 \leqslant 4 \leqslant 8\)</span></p>
</details>
<p><strong>4.b)</strong> Expliquer comment construire un arbre binaire de hauteur <code>h</code> quelconque ayant <code>h+1</code> n≈ìuds.</p>
<details class="done">
<summary>R√©ponse</summary>
<p>Il <strong>suffit</strong>, par exemple, de construire un arbre binaire o√π pour chaque n≈ìud, soit le sous arbre √† gauche est vide, soit celui √† droite.</p>
<ul>
<li>Cela peut √™tre toujours celui √† gauche qui est vide, on parle alors d'arbre peigne √† droite.</li>
<li>Cela peut √™tre toujours celui √† droite qui est vide, on parle alors d'arbre peigne √† gauche.</li>
</ul>
</details>
<p><strong>4.c)</strong> Expliquer comment construire un arbre binaire de hauteur <code>h</code> quelconque ayant <span class="arithmatex">\(2^{h+1} - 1\)</span> n≈ìuds.</p>
<blockquote>
<p><em>Indication</em> : <span class="arithmatex">\(2^{h+1} - 1 = 1+2+4+...+2^h\)</span>.</p>
</blockquote>
<details class="done">
<summary>R√©ponse</summary>
<p>Il <strong>faut</strong>, dans ce cas, construire un arbre binaire complet ; les sous-arbres vides sont tous √† la m√™me profondeur.</p>
</details>
<details class="danger">
<summary>Pour aller plus loin</summary>
<p>Avec l'autre d√©finition de la hauteur, l'in√©galit√© s'√©crit <span class="arithmatex">\(h \leqslant n \leqslant 2^h - 1\)</span>, et elle est encore valable pour l'arbre binaire vide. C'est plus simple et g√©n√©ral.</p>
</details>
<p>L'objectif de la fin de l'exercice est d'√©crire le code d'une fonction <code>fabrique(h, n)</code> qui prend comme param√®tres deux nombres entiers positifs <code>h</code> et <code>n</code> tels que <span class="arithmatex">\(h + 1 &lt; n &lt; 2^{h+1} - 1\)</span>, et qui renvoie un arbre binaire de hauteur <code>h</code> √† <code>n</code> n≈ìuds.</p>
<p>Pour cela, on utilise les deux fonctions suivantes :</p>
<ul>
<li><code>arbre_vide()</code>, qui renvoie un arbre vide ;</li>
<li><code>arbre(gauche, droite)</code> qui renvoie l'arbre de fils √† gauche <code>gauche</code> et de fils
√† droite <code>droite</code>.</li>
</ul>
<p><strong>5.</strong> Recopier sur la copie l'arbre binaire ci-dessous et num√©roter ses n≈ìuds de 1 en 1 en commen√ßant √† 1, en effectuant un parcours en profondeur pr√©fixe.</p>
<pre class="mermaid"><code>graph TD
    N0( ) --&gt; N2( )
    N0   --&gt; N1( )
    N1 --&gt; N3( )
    N1 --&gt; N4( )
    N2  --&gt; N5( )
    N2  --&gt; N6( )
    linkStyle 5 stroke-width:0px;
    style N6 opacity:0;
    N3 --&gt; N7( )
    N3 --&gt; N8( )
    N4 --&gt; N9( )
    N4 --&gt; N10( )</code></pre>
<details class="done">
<summary>R√©ponse</summary>
<pre class="mermaid"><code>graph TD
    N0(1) --&gt; N2(9)
    N0   --&gt; N1(2)
    N1 --&gt; N3(3)
    N1 --&gt; N4(6)
    N2  --&gt; N5(10)
    N2  --&gt; N6( )
    linkStyle 5 stroke-width:0px;
    style N6 opacity:0;
    N3 --&gt; N7(4)
    N3 --&gt; N8(5)
    N4 --&gt; N9(7)
    N4 --&gt; N10(8)</code></pre>
</details>
<p>La fonction <code>fabrique</code> ci-dessous a pour but de r√©pondre au probl√®me pos√©. Pour cela, la fonction <code>annexe</code> utilise la valeur de <code>n</code>, qu'elle peut modifier et renvoie un arbre
binaire de hauteur <code>hauteur_max</code> dont le nombre de n≈ìuds est √©gal √† la valeur de <code>n</code> au
moment de son appel.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">üêç Script Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">fabrique</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">annexe</span><span class="p">(</span><span class="n">hauteur_max</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">arbre_vide</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">hauteur_max</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="o">...</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">gauche</span> <span class="o">=</span> <span class="n">annexe</span><span class="p">(</span><span class="n">hauteur_max</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">droite</span> <span class="o">=</span> <span class="o">...</span>
        <span class="k">return</span> <span class="n">arbre</span><span class="p">(</span><span class="n">gauche</span><span class="p">,</span> <span class="n">droite</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">annexe</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p><strong>6.</strong> Recopier sur la copie les lignes 7 et 11 en compl√©tant les points de suspension.</p>
<details class="done">
<summary>R√©ponse</summary>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">üêç Script Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">fabrique</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">annexe</span><span class="p">(</span><span class="n">hauteur_max</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">arbre_vide</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">hauteur_max</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="n">arbre</span><span class="p">(</span><span class="n">arbre_vide</span><span class="p">(),</span> <span class="n">arbre_vide</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">gauche</span> <span class="o">=</span> <span class="n">annexe</span><span class="p">(</span><span class="n">hauteur_max</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">droite</span> <span class="o">=</span> <span class="n">arbre_vide</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">arbre</span><span class="p">(</span><span class="n">gauche</span><span class="p">,</span> <span class="n">droite</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">annexe</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Retour en haut de la page
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/">
Exercices sur le langage SQL r√©dig√©s par N. Rev√©ret. Partage ou adaptation possible selon
 les conditions de la licence <a
href="http://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1"
target="_blank" rel="license noopener noreferrer"
style="display:inline-block;">CC BY-NC-SA 4.0<img
style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img
style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img
style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"><img
style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></p>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.top", "toc.integrate", "header.autohide"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.config.lang": "fr", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Rechercher", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version.title": "S\u00e9lectionner la version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
        <script src="../../js/sortTable.js"></script>
      
        <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
      
        <script src="../../js/tablesort/tablesort.min.js"></script>
      
        <script src="../../js/tablesort/sorts/tablesort.date.min.js"></script>
      
        <script src="../../js/tablesort/sorts/tablesort.dotsep.min.js"></script>
      
        <script src="../../js/tablesort/sorts/tablesort.filesize.min.js"></script>
      
        <script src="../../js/tablesort/sorts/tablesort.monthname.min.js"></script>
      
        <script src="../../js/tablesort/sorts/tablesort.number.min.js"></script>
      
    
    
  </body>
</html>